service vendor.xiaomi_device_script /vendor/bin/init.xiaomi.device.sh
    class core
    user root
    group root
    oneshot

##### ulysse begin #####

# Audio
on property:ro.vendor.xiaomi.series=ulysse
    mount none /vendor/etc/ulysse_acdbdata /vendor/etc/acdbdata bind
    restart vendor.audio-hal

# Camera
service ulysse_qcamerasvr /system/vendor/bin/ulysse_mm-qcamera-daemon
    disabled
    class late_start
    user camera
    group camera system inet input graphics
    writepid /dev/cpuset/system-background/tasks

on property:ro.vendor.xiaomi.series=ulysse
    setprop ro.hardware.camera ulysse
    stop qcamerasvr
    enable ulysse_qcamerasvr
    restart vendor.camera-provider-2-4

# IR
on property:ro.vendor.xiaomi.series=ulysse
    setprop ro.hardware.consumerir lirc
    restart vendor.ir-hal-1-0

##### ulysse end   #####

##### rova begin #####

# Audio
on property:ro.vendor.xiaomi.device=rolex
    mount none /vendor/etc/rolex_mixer_paths_qrd_sku2.xml /vendor/etc/mixer_paths_qrd_sku2.xml bind
    restart vendor.audio-hal

on property:ro.vendor.xiaomi.device=riva
    mount none /vendor/etc/riva_mixer_paths_qrd_sku2.xml /vendor/etc/mixer_paths_qrd_sku2.xml bind
    restart vendor.audio-hal

##### rova end #####
